{{>admin_nav}}


<div class="col-12 grid-margin stretch-card">
  {{!-- <img class="mt-5" src="https://cdn-icons-png.flaticon.com/512/1285/1285830.png" width="550px" height="400px" alt=""> --}}
  <div class="card">
    <div class="card-body">
      {{!-- <h4 class="card-title">Basic form elements</h4> --}}
      <p class="card-description  mt-5 mb-5">
      <h2>Edit Product</h2>
      </p>
      <form action="/admin/edited_product/{{products._id}}" enctype="multipart/form-data" method="post"
        class="forms-sample mt-5">
        <div class="form-group col-5">
          <label for="exampleInputName1">Name</label>
          <input type="text" name="Name" value="{{products.Name}}" class="form-control" id="exampleInputName1">
        </div>
        <div class="form-group col-5">
          <label for="exampleInputEmail3">Brand Name</label>
          <input type="text" name="Brand" value="{{products.Brand}}" class="form-control" id="exampleInputEmail3"
            placeholder="Brand">
        </div>
        <div class="form-group col-5">
          <label for="exampleInputPassword4">Quantity</label>
          <input type="number" name="Quantity" value="{{products.Quantity}}" class="form-control"
            id="exampleInputPassword4" placeholder="QTY">
        </div>
        <div class="form-group col-3">
          <label for="exampleSelectGender">Category</label>
          <select class="form-control" name="Category" id="exampleSelectGender" value="{{products.categoryid.categoryname}}">
            {{#each categorys}}
            <option>{{this.categoryname}}</option>
            {{/each}}
          </select>
        </div>
       <div class="form-group">
          <label>Image</label><br>
       {{#each products.image}} 
           
          <img src="/productImages/{{this}}" alt="" style="height:auto;width:50px" id="imgView">
          
        {{/each}}
          {{!-- <img src="/productImages/{{products.image.[1]}}" alt="" style="height:auto;width:50px" id="imgView">
          <img src="/productImages/{{products.image.[2]}}" alt="" style="height:auto;width:50px" id="imgView"> --}}
          <input type="file" name="productImage" onchange=viewImage(event) class="form-control-file mt-2" id="Image"
            multiple> 
            {{!-- filepond --}}
                {{!-- <form action="/add_product" method="post" enctype="multipart/form-data" > --}}
              {{!-- <input type="file" name="productImage" name="images" class="filepond form-control-file" multiple> --}}
              {{!-- <button type="submit">Upload</button>
               </form> --}}
        </div>
        <div class="form-group col-5">
          <label for="exampleInputCity1">Price</label>

          <input type="number" name="Price" value="{{products.Price}}" class="form-control" id="exampleInputCity1"
            placeholder="Amount">
        </div>
        <div class="form-group col-5">
          <label for="exampleFormControlTextarea1">Description</label>
          <textarea class="form-control"  value="{{products.Description}}"  name="Description"  rows="3" required=""></textarea>
        </div>

        <button type="submit" class="btn btn-gradient-primary me-2">Submit</button>
        <button class="btn btn-light">Cancel</button>
      </form>
    </div>
  </div>
</div>
<script>


{{>admin_footer}}


<script>
 function viewImage(event){
  
    document.getElementById('imgView-'+i).src=URL.createObjectURL(event.target.files.[0])
  
  }
</script>

 {{!-- <script>
  {
    FilePond.registerPlugin(
      FilePondPluginImagePreview
    );

    FilePond.setOptions({
      imagePreviewHeight: 100,
      imagePreviewWidth: 100
    });

    const inputElement = document.querySelector('input.filepond');
    const pond = FilePond.create(inputElement);
    }
  </script> --}}

  {{!-- <script>
    {
    FilePond.registerPlugin(
      FilePondPluginImagePreview,
      FilePondPluginImageResize,
      FilePondPluginFileEncode
    );

    FilePond.setOptions({
      server: {
        url: '/add_product',
        process: (fieldName, file, metadata, load, error, progress, abort) => {
          const formData = new FormData();
          formData.append(fieldName, file, file.name);
          const xhr = new XMLHttpRequest();
          xhr.open('POST', '/add_product');
          xhr.send(formData);
        }
      }
    });

    FilePond.parse(document.body);
    }
  </script> --}}

 
